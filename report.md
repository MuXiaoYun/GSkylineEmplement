# Project 2 G-Skyline 实验文档

何沐	张嘉诚	张飞鸿

## 相关工作介绍



## 算法分析

### MDG构建算法

#### 算法流程

- 输入：数据点集 $P$ 和 G-Skyline 组的大小 $l$
- 输出：最小支配图 $G$
- 步骤：
  - 初始化空图 $G$
  - 对 $P$ 中所有的点按所有维度之和升序排序，以保证后处理点不会被前面的点支配
  - 创建 $l$ 个桶 $B[0]$，$B[1]$，……，$B[l - 1]$，分别存储具有 $0$ ~ $l − 1$ 个父节点的点
  - 遍历 $P$ 中的每个点 $p$：
    - 初始化 $p$ 的 parents 集合为空
    - 从 $B[l - 1]$ 到 $B[0]$ 逆序遍历每个桶中的所有点 $p'$：
      - 若 $p'$ 支配 $p$，则将 $p'$ 及其 parents 加入 $p$ 的 parents 集
      - 若 $p$ 的 parents 个数大于等于 $l$，终止对 $p$ 点的处理
    - 若 $p$ 的 parents 个数小于 $l$：
      - 将 $p$ 加入 $G$ 的点集中
      - 将 $p$ 的所有 parents 到 $p$ 的边加入 $G$ 的边集中
      - 将 $p$ 加入桶 $B[$|parents|$]$

#### 时间复杂度

- 假设 $n$ 为点集大小，$m$ 为最终 MDG 中点的个数（通常远小于 $n$）
- 对所有点排序的时间复杂度为 $O(n\log n)$
- 遍历 $P$ 时每个点最多比较 $m$ 个已有点，最坏情况的时间复杂度为 $O(nm)$
- 所以整体时间复杂度为$O(n\log n+nm)$

### P_MDS

#### 算法流程

- 输入：数据点集 $P$、 G-Skyline 组的大小 $l$、最小支配图 $G$
- 输出：所有 $l$-点 G-skyline 组组成的集合 $R$
- 步骤：
  - 主程序：
    - 初始化结果集 $R = \empty$
    - 对 $G$ 中所有的点按父节点数升序排序，父节点少的点优先
    - 对每个 Skyline 点 $p$ （没有父节点）:
      - 初始化当前 group $gr = \{p\}$
      - 调用递归函数 $\mathrm{SearchSinglePoint}(gr, p, R)$
  - 递归函数 $\mathrm{SearchSinglePoint}(gr, p, R)$
    - 若当前 $gr$ 大小为 $l$，将其加入结果集 $R$，结束当前搜索
    - 否则遍历排序后的 $G$ 中所有在 $p$ 之后的点 $p'$:
      - 若 $p'$ 的所有 parents 均在当前 $gr$ 中，则将 $p'$ 加入 $gr$，再递归调用自己

#### 时间复杂度

- 该算法的时间复杂度取决于：
  - $m$ ：MDG 中点的个数
  - 每个点的支配关系稀疏程度（ Parent Pruning 剪枝效率）
- 整体时间复杂度应为 $O(km)$，其中 $k$ 为实际生成的 G-skyline 组的数量
- 最坏情况是从 MDG 的所有点中枚举所有可能的 $l$-组合：复杂度为 $O(C(m,l))$，但实际情况中应有 $km \ll C(m,l)$

## 实验结果展示

